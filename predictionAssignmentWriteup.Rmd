---
title: "Prediction Assignment Writeup"
author: "datasciencespm"
date: "Sunday, September 14, 2014"
output: html_document
---
## Executive Summary
This report describes an analysis of a [weight lifting data set][1] described 
in the following journal article:  
  
Velloso, E.; Bulling, A.; Gellersen, H.; Ugulino, W.; Fuks, H. 
"[Qualitative Activity Recognition of Weight Lifting Exercises][2]". Proceedings
of 4th  International Conference in Cooperation with SIGCHI (Augmented Human 
'13). Stuttgart, Germany: ACM SIGCHI, 2013.  
  
that contains measurements from accelerometers placed on the:  
  
* weight lifted (i.e. dumbell)  
* belt  
* forearm  
* arm  
  
for six test participants. The results presented in this document will 
illustrate the process that I followed to:  

1.) Load & clean the training and test data   
2.) Perform exploratory data analysis  
3.) Train a prediction algorithm (i.e. random forest)  
4.) Estimate the out-of-sample error  
5.) Apply the trained predictor to the test data set  
  
The accuracy of the predictor that I will describe in this report is 70% based
on scoring results generated by the [Coursera website][3]. My analysis of this
ressult is that it is slightly lower than the average accuracy of 78.8% 
estimated from the [normalized confusion matrix][1] shown on the bottom of 
the website that includes a description of this weight lifting dataset.  
  
## Load & Clean Data
This section of my prediction assignment writeup describe the following six-step
process:  
1.) Setup R environment  
2.) Load the training & test data  
3.) Create a [tidy][4] training data set  
4.) Constrain the training time series data window size  
5.) Remove NA test data variables from both the training and test data sets  

that I followed to prepare (i.e. clean) the training and test data for 
analysis.  

The first step required to generate clean training and test data is setting up
the R programming environment that illustrated in the following code chunk.
This section of R code begins with [verifying that the required R packages][5] 
are installed. Next, this software loads the required R packages prior to 
[setting global code chunk options][6].  
```{r setupEnvironment, message=FALSE}
# Verify required packages are installed
required.packages <- c("caret",
                       "Gmisc",
                       "ggplot2",
                       "knitr",
                       "GGally",
                       "randomForest",
                       "RColorBrewer")

new.packages <- required.packages[!(required.packages %in% 
                                    installed.packages())]

if(length(new.packages)) {
  install.packages(new.packages)
} 

# Load required packages
library(caret)
library(Gmisc)
library(ggplot2)
library(knitr)
library(GGally)
library(randomForest)
library(RColorBrewer)

opts_chunk$set(cache=TRUE,
               cache.path = 'DocumentName_cache/',
               fig.path='figure/',
               tidy.opts=list(keep.blank.line=FALSE, width.cutoff=60),
               fig.width=7,
               fig.height=5)
```


```{r loadAndCleanDataPart1}
if (!file.exists("./Data")) {
    dir.create("./Data")
    
    trainingDataURL <- 
        "https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"

    testDataURL <-
        "https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"
    
    download.file(trainingDataURL, destfile = "./Data/trainingData.csv")
    
    download.file(testDataURL, destfile = "./Data/testData.csv")
}

loadExerciseData <- function(exerciseDataFile) {
#------------------------------------------------------------------------
#------------------------------------------------------------------------
    exerciseData <- read.csv(file = file.path("./Data",
                                              exerciseDataFile),
                             header=TRUE,
                             stringsAsFactors = FALSE)

    colnames(exerciseData) <- tolower(colnames(exerciseData))
    variableNames <- colnames(exerciseData)

    for (i in seq_len(length(variableNames))) {
        variableNames[i] <- gsub("_", "", variableNames[i])
        variableNames[i] <- gsub("\\.", "", variableNames[i])
    }
    
    colnames(exerciseData) <- variableNames
    
    exerciseData$timestamp <- exerciseData$rawtimestamppart1 + 
                              exerciseData$rawtimestamppart2*1E-6
    
    exerciseData <- 
        exerciseData[,!colnames(exerciseData) %in% c("x",
                                                     "rawtimestamppart1",
                                                     "rawtimestamppart2")]

    return(exerciseData)
}

trainingData <- loadExerciseData("trainingData.csv")

testData <- loadExerciseData("testData.csv")
```

Number of training data rows: `r nrow(trainingData)`
Number of test data rows: `r nrow(testData)`

```{r initializeDataWindowDescription, results='asis'}
## ###########################################################################
## DEFINE FUNCTIONS
## ###########################################################################
initializeDataWindowIndex <- function(trainingData,
                                      minLength = 0,
                                      maxLength = NA) {
#------------------------------------------------------------------------
# Initializes a compound list that contains the data frame row indices
# corresponding to a specific data window
#------------------------------------------------------------------------
    weightLiftingClasse <- unique(trainingData$classe)
    
    dataWindow <- list();
    for (curClasse in weightLiftingClasse) {
        dataWindow[[curClasse]] <- list();    
    }
    
    startOfNewWindow <- which(trainingData$newwindow == "yes")

    numDataWindows <- length(startOfNewWindow)
    
    for (n in seq(0, numDataWindows)) {
        if (n == 0) {
            curWindowIdx <- 1:(startOfNewWindow[1] - 1)
        }
        else if (n == numDataWindows) {
            curWindowIdx <- startOfNewWindow[n]:nrow(trainingData)
        }
        else
        {
            curWindowIdx <- startOfNewWindow[n]:(startOfNewWindow[n + 1]- 1)
        }
        curClasse <- trainingData$classe[curWindowIdx[1]]
    
        minLengthTest <- length(curWindowIdx) >= minLength

        if (is.na(maxLength)) {
            maxLengthTest <- TRUE
        }
        else {
            maxLengthTest <- length(curWindowIdx) <= maxLength
        }

        if (minLengthTest & maxLengthTest) {
            dataWindow[[curClasse]][[length(dataWindow[[curClasse]]) + 1]] <- 
                curWindowIdx            
        }
    }
    
    return(dataWindow)
}

computeDataWindowCount <- function(dataWindow) {
#------------------------------------------------------------------------
#------------------------------------------------------------------------
    dataWindowCount <- data.frame()
    for (curClasse in names(dataWindow)) {
        dataWindowCount <- rbind(dataWindowCount,
                                 data.frame(classe=curClasse,
                                            count=length(dataWindow[[curClasse]])))
    }

    dataWindowCount$classe <- as.character(dataWindowCount$classe)
    
    return(dataWindowCount)
}

#------------------------------------------------------------------------
#------------------------------------------------------------------------
computeDataWindowSize <- function(dataWindow) {
    dataWindowSize <- data.frame()

    for (curClasse in names(dataWindow)) {
        for (curIdx in dataWindow[[curClasse]]) {
            dataWindowSize <- 
                rbind(dataWindowSize,data.frame(classe=curClasse,
                                                windowsize=length(curIdx)))
        }
    }
    
    return(dataWindowSize)
}

computeDataWindowSizeSummary <- function(dataWindowSize) {
#----------------------------------------------------------------------
#----------------------------------------------------------------------
    dataWindowSizeSummary <- data.frame()
    for (curClasse in unique(dataWindowSize$classe)) {
        curCounts <- subset(dataWindowSize,
                            dataWindowSize$classe==curClasse)
    
        curSummary <- summary(curCounts$windowsize)
    
        dataWindowSizeSummary <- 
            rbind(dataWindowSizeSummary,
                  data.frame(classe=curClasse,
                             min=curSummary[1],
                             firstquantile=curSummary[2],
                             median=curSummary[3],
                             mean=curSummary[4],
                             thirdquantile=curSummary[5],
                             max=curSummary[6]))
    }
    rownames(dataWindowSizeSummary) <- NULL
    
    dataWindowSizeSummary$classe <- as.character(dataWindowSizeSummary$classe)    
    
    return(dataWindowSizeSummary)
}

## ###########################################################################
## ANALYSIS
## ###########################################################################
dataWindow <- initializeDataWindowIndex(trainingData)
```
  
```{r loadAndCleanDataPart2, results='asis'}
## ###########################################################################
## DEFINE FUNCTIONS
## ###########################################################################
processNumericVariables <- function(curDataWindowIn,
                                    numericVariables) {
#-------------------------------------------------------
    numNumericVariables <- length(numericVariables)
    
    for (i in seq_len(numNumericVariables)) {
        curSamples <- curDataWindowIn[,numericVariables[i]]
        
        numValidSamples <- sum(!is.na(curSamples))
        
        if (numValidSamples == 1) {
            curNumericVariable <- 
                data.frame(curSamples[!is.na(curSamples)])
        }
        else {
            curNumericVariable <- data.frame(mean(curSamples))
        }
        colnames(curNumericVariable) <- numericVariables[i]
     
         if (i == 1) {
             curDataWindow <- curNumericVariable
         }
         else {
             curDataWindow <- cbind(curDataWindow, curNumericVariable)
         }
    }
    
    return(curDataWindow)
}

processCharacterVariables <- function(curDataWindowIn,
                                      characterVariables) {
    numCharacterVariables <- length(characterVariables)
    
    #---------------------------------------------------------
    for (i in seq_len(numCharacterVariables)) {
        curVar <- characterVariables[i]
        curSamples <- suppressWarnings(as.numeric(curDataWindowIn[,curVar]))
        
        validIdx = which(!is.na(curSamples))
        
        numValidSamples <- length(validIdx)
        
        if (numValidSamples > 0) {
            curCharacterVariable <- data.frame(median(curSamples[validIdx]))
        }
        else {
            curCharacterVariable <- data.frame(NA)
        }
        colnames(curCharacterVariable) <- characterVariables[i]

        if (i == 1) {
            curDataWindow = curCharacterVariable
        }
        else {
            curDataWindow <- cbind(curDataWindow, curCharacterVariable)    
        }
    }
    
    return(curDataWindow)
}

initializeMeasurements <- function(trainingData,
                                   dataWindow) {
    cleanData <- list()
    ambiguousClasseDataWindow <- list()
    incompleteCaseDataWindow <- list()
    cleanDataWindow <- list()
    cleanTrainingData <- data.frame()

    characterVariables <- vector()
    numericVariables <- vector()
    
    for (i in seq_len(length(variableNames))) {
        curClass <- class(trainingData[,variableNames[i]])
        if (curClass == "character") {
            characterVariables <- c(characterVariables, variableNames[i])
        }
        else if (curClass == "numeric" | curClass == "integer") {
            numericVariables <- c(numericVariables, variableNames[i])
        }
    }
    
    for (curClasse in names(dataWindow)) {
        dataWindowNumber <- 1
        
        for (curDataWindowIdx in dataWindow[[curClasse]]) {
            curDataWindowIn <- trainingData[curDataWindowIdx,]
            
            numUniqueClasse <- length(unique(curDataWindowIn$classe))
        
            #-----------------------------------------------------------------
            if (numUniqueClasse == 1) {
                curDataWindow <- processNumericVariables(curDataWindowIn,
                                                         numericVariables)
    
                curDataWindow <- 
                    cbind(curDataWindow,
                          processCharacterVariables(curDataWindowIn,
                                                    characterVariables))

                curDataWindow$datawindownumber <- dataWindowNumber
                
                curDataWindow$windowsize <- length(curDataWindowIdx)
            
                curDataWindow$classe <- curDataWindowIn$classe[1]

                n <- length(cleanDataWindow[[curClasse]]) + 1
                
                cleanDataWindow[[curClasse]][[n]] <- curDataWindowIdx 
                
                cleanTrainingData <- rbind(cleanTrainingData,
                                           curDataWindow)
    
                dataWindowNumber <- dataWindowNumber + 1
            }
            #-----------------------------------------------------------------
            else {
                n <- length(ambiguousClasseDataWindow[[curClasse]]) + 1

                ambiguousClasseDataWindow[[curClasse]][[n]] <- 
                    curDataWindowIdx 
            }
        }
    }
    
    cleanData[[1]] <- cleanTrainingData
    cleanData[[2]] <- cleanDataWindow
    cleanData[[3]] <- ambiguousClasseDataWindow
    cleanData[[4]] <- characterVariables
    cleanData[[5]] <- numericVariables
    
    return(cleanData)
}

computePercentNAValues <- function(predictionData) {
    variableNames <- colnames(predictionData)
    
    percentNAValues <- vector('numeric',length(variableNames))

    for (i in seq_len(length(percentNAValues))) {
        percentNAValues[i] <- 
            sum(is.na(predictionData[,variableNames[i]]))
    }

    percentNAValues <- 100 * (percentNAValues / nrow(predictionData))
    percentNAValues <- data.frame(percentnavalues=percentNAValues)
    percentNAValues$variable <- variableNames
    
    return(percentNAValues)
}

computeNAValueStatistics <- function(percentNAValues) {
    percentNAValuesRegions <- as.data.frame(table(percentNAValues$region))
    
    colnames(percentNAValuesRegions) <- c("region",
                                          "frequency")
    
    percentNAValuesRegions$region <- 
        as.character(percentNAValuesRegions$region)
    
    return(percentNAValuesRegions)
}

## ###########################################################################
## ANALYSIS
## ###########################################################################
variableNames <- colnames(trainingData)

variableNames <- variableNames[!variableNames %in% c("username",
                                                     "cvtdtimestamp",
                                                     "newwindow",
                                                     "numwindow",
                                                     "classe",
                                                     "timestamp")]

cleanData <- initializeMeasurements(trainingData,
                                    dataWindow)
rm(trainingData)

cleanTrainingData <- cleanData[[1]]
cleanDataWindow <- cleanData[[2]]
ambiguousClasseDataWindow <- cleanData[[3]]
characterVariables <- cleanData[[4]]
numericVariables <- cleanData[[5]]
rm(cleanData)
```

Character variable: `r characterVariables[1]` 
Numeric variable: `r numericVariables[1]`

```{r loadAndCleanDataPart3, results='asis'}
percentNAValues <- computePercentNAValues(cleanTrainingData)

percentNAValues$region <- cut2(percentNAValues$percentnavalues,
                               cuts=c(1.5,5,15,50))

percentNAValuesRegions <- computeNAValueStatistics(percentNAValues)

htmlTable(percentNAValuesRegions,
          caption="Training % NA Value Statistics",
          align=c("c","c"),
          rowlabel="",)
```
  
  
```{r loadAndCleanDataPart4}
percentVariablesExcluded = 
    100 * sum(percentNAValuesRegions[percentNAValuesRegions$region %in%
                                     c("[  5.0, 15.0)",
                                       "[ 15.0, 50.0)",
                                       "[ 50.0,100.0]"),c("frequency")]) /
          sum(percentNAValuesRegions$frequency)

percentVariablesExcluded <- round(percentVariablesExcluded, digits=1)

ggplot(percentNAValues, aes(x=percentnavalues,fill=region, colour=region)) + 
    scale_color_brewer(palette="Dark2") + scale_fill_brewer(palette="Dark2") +
    geom_density() + xlab("% of NA Values") + ylab("Density") + 
    ggtitle("NA values Analysis") + theme_gray(base_size = 14)
```

% of variables removed due to NA values: `r percentVariablesExcluded`

```{r removeNAVariables, results='asis'}
excluedVariables <- 
    percentNAValues[which(percentNAValues$percentnavalues >= 5.0),]

excluedVariables$region <- as.character(excluedVariables$region)
rownames(excluedVariables) <- NULL

excluedVariables$percentnavalues <- 
    round(excluedVariables$percentnavalues, digits=1)

htmlTable(excluedVariables,
          caption="Excluded Variables Based on % of NA Values",
          align = c("c","c","c"),
          rowlabel="")

cleanTrainingData <- 
    cleanTrainingData[,!colnames(cleanTrainingData) %in% 
                                 excluedVariables$variable]

cleanTrainingData <- 
    cleanTrainingData[complete.cases(cleanTrainingData),]

cleanTrainingData <- 
    cleanTrainingData[,!colnames(cleanTrainingData) %in% 
                                 c("username",
                                   "cvtdtimestamp",
                                   "newwindow",
                                   "numwindow",
                                   "timestamp")]
```

```{r evaluateDataWindowSizePart1, results='asis'}
## ###########################################################################
## DEFINE FUNCTIONS
## ###########################################################################
initializeCleanDataWindowSizeSummary <- function(cleanTrainingData) {
#----------------------------------------------------------------------
#----------------------------------------------------------------------
    dataWindowSizeSummary <- data.frame()

    for (curClasse in unique(cleanTrainingData$classe)) {
        curWindowsize <- 
            cleanTrainingData[which(cleanTrainingData$classe==curClasse),
                              c("windowsize")]
    
        curSummary <- summary(curWindowsize)
    
        dataWindowSizeSummary <- 
            rbind(dataWindowSizeSummary,
                  data.frame(classe=curClasse,
                             min=curSummary[1],
                             firstquantile=curSummary[2],
                             median=curSummary[3],
                             mean=curSummary[4],
                             thirdquantile=curSummary[5],
                             max=curSummary[6]))
    }
    rownames(dataWindowSizeSummary) <- NULL
    
    dataWindowSizeSummary$classe <- 
        as.character(dataWindowSizeSummary$classe)
    
    return(dataWindowSizeSummary)
}

## ###########################################################################
## ANALYSIS
## ###########################################################################
dataWindowSizeSummary <- 
    initializeCleanDataWindowSizeSummary(cleanTrainingData)

htmlTable(dataWindowSizeSummary,
          caption="Original Data Window Size Statistics",
          rowlabel="",)
```

```{r evaluateDataWindowSizePart2, results='asis'}
cleanTrainingData$windowsizeregion <- 
    cut2(cleanTrainingData$windowsize,
         cuts=c(20,70,130))

windowsizeregion <- as.data.frame(table(cleanTrainingData$windowsizeregion))
colnames(windowsizeregion) <- c("windowsizeregion","frequency")
windowsizeregion$windowsizeregion <- 
    as.character(windowsizeregion$windowsizeregion)

htmlTable(windowsizeregion,
          caption="Training Data Window Size Statistics",
          align=c("c","c"),
          rowlabel="",)

exlcudedWindowSize <- 
    windowsizeregion[windowsizeregion$windowsizeregion %in% 
                     c("[  1, 20)","[130,337]"),]

percentExcludedData <- 
    round(100*(sum(exlcudedWindowSize$frequency) / 
          sum(windowsizeregion$frequency)), digits=1)
```

Percent of training data excluded based on data window `r percentExcludedData`

```{r evaluateDataWindowSizePart3}
ggplot(cleanTrainingData, aes(x=windowsize, colour=classe, fill=classe)) + 
      geom_density() + scale_colour_brewer(palette="Dark2") + 
      scale_fill_brewer(palette="Dark2") +
      facet_wrap(~classe) + ggtitle("Initial Data Window Size Statistics")
```

```{r constrainDataWindowSize, results='asis'}
cleanTrainingData <- 
    cleanTrainingData[cleanTrainingData$windowsizeregion %in%
                      c("[ 20, 70)","[ 70,130)"),]

ggplot(cleanTrainingData, aes(x=windowsize, colour=classe, fill=classe)) + 
      geom_density() + scale_colour_brewer(palette="Dark2") + 
      scale_fill_brewer(palette="Dark2") +
      facet_wrap(~classe) + ggtitle("Updated Data Window Size Statistics")

dataWindowSizeSummary <- 
    initializeCleanDataWindowSizeSummary(cleanTrainingData)

htmlTable(dataWindowSizeSummary,
          caption="Updated Data Window Size Statistics",
          align=c("c","c","c","c","c","c","c"),
          rowlabel="")

cleanTrainingData <- 
    cleanTrainingData[!colnames(cleanTrainingData) %in% c("windowsizeregion",
                                                          "windowsize",
                                                          "datawindownumber")]

cleanTrainingData$classe <- as.factor(cleanTrainingData$classe)

rownames(cleanTrainingData) <- NULL

variableNames <- colnames(cleanTrainingData)
```

```{r checkTestDataForNAVariables, results='asis'}
percentTestDataNAVariables <- computePercentNAValues(testData)

percentTestDataNAVariables$region <- 
    cut2(percentTestDataNAVariables$percentnavalues, cuts=c(0.1))

percentTestDataNAValuesRegions <- 
    computeNAValueStatistics(percentTestDataNAVariables)

htmlTable(percentTestDataNAValuesRegions,
          caption="Test Data % NA Value Statistics",
          align=c("c","c"),
          rowlabel="",)

validTestVariableIdx <- which(percentTestDataNAVariables$percentnavalues == 0)

validTestVariables <- 
    percentTestDataNAVariables[validTestVariableIdx,c("variable")]

validTestVariables <- 
    validTestVariables[!validTestVariables %in% c("username",
                                                  "cvtdtimestamp",
                                                  "newwindow",
                                                  "numwindow",
                                                  "problemid",
                                                  "timestamp")]

cleanTrainingData <- 
    cleanTrainingData[,colnames(cleanTrainingData) %in% 
                                c(validTestVariables,"classe")]
```

Number of variables: `r length(variableNames[!variableNames %in% c("classe")])`

# Exploratory Data Analysis

```{r exploratoryDataAnalysisPart1}
ggpairs(data=cleanTrainingData, columns=1:3, colour='classe')
```

```{r exploratoryDataAnalysisPart2}
ggpairs(data=cleanTrainingData, columns=4:6, colour='classe')
```

```{r exploratoryDataAnalysisPart3}
ggpairs(data=cleanTrainingData, columns=7:9, colour='classe')
```

# Train Predictor
```{r randomForestModel1}
seedValue <- 33833
set.seed(seedValue)
randomForestModel1Fit <- train(classe ~ ., 
                               data=cleanTrainingData, 
                               method="rf",
                               strata=cleanTrainingData$classe)

print(randomForestModel1Fit$finalModel)

variableImportanace <- varImp(randomForestModel1Fit$finalModel)
variableImportanace$variable <- rownames(variableImportanace)
rownames(variableImportanace) <- NULL
colnames(variableImportanace) <- c("overallimportance",
                                   "variable")

variableImportanace <- variableImportanace[,c(2,1)]

variableImportanace <- 
    variableImportanace[order(variableImportanace$overallimportance,
                              decreasing = TRUE),]

rownames(variableImportanace) <- NULL

qplot(1:nrow(variableImportanace),
      variableImportanace$overallimportance, geom="line")
```

```{r randompForestModel2}
rf2Idx <- seq(1:25)

cleanTrainingData2 <- 
    cleanTrainingData[,colnames(cleanTrainingData) %in% 
                       c(variableImportanace$variable[rf2Idx],"classe")]

set.seed(seedValue)
randomForestModel2Fit <- train(classe ~ .,
                               data=cleanTrainingData2,
                               method="rf",
                               strata=cleanTrainingData2$classe)

print(randomForestModel2Fit$finalModel)
```

```{r randompForestModel3}
rf3Idx <- seq(1:14)

cleanTrainingData3 <- 
    cleanTrainingData[,colnames(cleanTrainingData) %in% 
                       c(variableImportanace$variable[rf3Idx],"classe")]

set.seed(seedValue)
randomForestModel3Fit <- train(classe ~ .,
                               data=cleanTrainingData3,
                               method="rf",
                               strata=cleanTrainingData3$classe)

print(randomForestModel3Fit$finalModel)
```

```{r randompForestModel4}
rf4Idx <- seq(1:5)

cleanTrainingData4 <- 
    cleanTrainingData[,colnames(cleanTrainingData) %in% 
                       c(variableImportanace$variable[rf4Idx],"classe")]

set.seed(seedValue)
randomForestModel4Fit <- train(classe ~ .,
                               data=cleanTrainingData4,
                               method="rf",
                               strata=cleanTrainingData4$classe)

print(randomForestModel4Fit$finalModel)
```

# Apply Predictor to test data

```{r generatePredictions}
pml_write_files = function(predClasse){
    resultsFolder = "./predictionResults"
    
    if (!file.exists(resultsFolder)) {
        dir.create(resultsFolder)
    }
    
    x <- as.character(predClasse)
    
    n = length(x)
    for(i in 1:n){
        filename = paste0("problem_id_",i,".txt")
        write.table(x[i],
                    file=file.path(resultsFolder,
                                   filename),
                    quote=FALSE,
                    row.names=FALSE,
                    col.names=FALSE)
    }
}

testDataIn <- testData[,colnames(testData) %in% 
                        c(variableImportanace$variable[rf2Idx])]

predClasse <- predict(randomForestModel2Fit,
                      testDataIn)

pml_write_files(predClasse)
```
[1]: http://groupware.les.inf.puc-rio.br/har
[2]: http://groupware.les.inf.puc-rio.br/work.jsf?p1=11201
[3]: https://www.coursera.org/course/predmachlearn
[4]: http://vimeo.com/33727555
[5]: http://stackoverflow.com/questions/9341635/how-can-i-check-for-installed-r-packages-before-running-install-packages
[6]: https://github.com/yihui/knitr/blob/master/inst/examples/knitr-minimal.Rmd
